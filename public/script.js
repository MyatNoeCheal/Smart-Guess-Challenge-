let currentFact = null;
let explanation = null;

async function generateFact() {
  document.getElementById("fact").textContent = "Generating...";
  document.getElementById("result").textContent = "";
  document.getElementById("explanation").textContent = "";

  try {
    const response = await fetch("/get-fake-fact", {
      method: "POST"
    });
    const data = await response.json();

    currentFact = data.fact;
    explanation = data.explanation;

    document.getElementById("fact").textContent = currentFact;
  } catch (err) {
    document.getElementById("fact").textContent = "Error fetching fact.";
    console.error(err);
  }
}

function guess(choice) {
  // This version always assumes facts are AI-generated fakes
  const resultText =
    choice === "Fake"
      ? "✅ Correct! This was generated by AI."
      : "❌ Nope! This one was fake, made by AI.";

  document.getElementById("result").textContent = resultText;
  document.getElementById("explanation").textContent = explanation;
}
